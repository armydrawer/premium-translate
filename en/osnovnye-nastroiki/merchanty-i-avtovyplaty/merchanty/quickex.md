# Quickex

{% hint style="info" %}
Если вам необходимо обновить модуль на сервере — воспользуйтесь [инструкцией](https://premium.gitbook.io/main/osnovnye-nastroiki/faq/obnovlenie-failov-skripta-na-servere/kak-obnovit-faily-na-servere#moduli-merchantov-i-avtovyplat)
{% endhint %}

{% hint style="warning" %}
Модуль Quickex необходимо использовать только в направлениях **криптовалюта — криптовалюта.**

Обращаем ваше внимание, что для работы мерчанта на приём Quickex необходимо также установить [модуль автовыплаты Quickex](https://premium.gitbook.io/main/osnovnye-nastroiki/merchanty-i-avtovyplaty/avtovyplaty/quickex) в этом же направлении обмена. Модуль на приём производит выплату средств по заявке сразу же после поступления средств от клиента, а модуль автовыплаты подтверждает выплату средств для изменения статуса заявки на "**Выполненная заявка**".

Использовать модуль на приём Quickex **всегда необходимо** в паре с [модулем автовыплаты](https://premium.gitbook.io/main/osnovnye-nastroiki/merchanty-i-avtovyplaty/avtovyplaty/quickex) (при подключении другого модуля автовыплаты в направлении обмена **произойдет двойная выплата**).

Также необходимо учитывать, что выплата средств **всегда** производится по курсу самого сервиса, поэтому крайне желательно использовать [парсер](https://premium.gitbook.io/main/osnovnye-nastroiki/valyuty-i-napravleniya-obmena/kursy-valyut/parser-kursov-valyut-parsery-2.0) Quickex для курса в направлении обмена, где подключен Quickex, а также включить [пересчет заявок по курсу обмена](https://premium.gitbook.io/main/osnovnye-nastroiki/valyuty-i-napravleniya-obmena/sozdanie-novogo-napravleniya#pereschet-po-kursu-obmena) для совпадения фактически выплачиваемой суммы с суммой из заявки.
{% endhint %}

## Настройки в личном кабинете мерчанта

Пройдите регистрацию на сервисе [Quickex](https://quickex.io/).

## Настройки модуля

В панели администратора создайте нового мерчанта в разделе "**Мерчанты**" ➔ "**Добавить мерчант".**

Выберите Quickex в выпадающем списке в поле "**Модуль**", укажите название для модуля и нажмите "**Сохранить**".

<figure><img src="../../../.gitbook/assets/image (2193).png" alt="" width="398"><figcaption></figcaption></figure>

Заполните указанные поля (кроме "**Домен**").

<figure><img src="../../../.gitbook/assets/image (2284).png" alt="" width="490"><figcaption></figcaption></figure>

**Домен —** поле заполняется **только в случае**, если вам написал об этом менеджер Quickex (<mark style="color:green;">во всех остальных случаях поле остается пустым</mark>)

**Партнерский ID** — ID, выданный вам представителем мерчанта для учета партнерских заявок

**Наценка (%)** — процент, на который будет <mark style="color:green;">**увеличен**</mark> курс Quickex, используемый для заявок в направлении обмена с подключенным мерчантом.

{% hint style="success" %}
Пример: если базовый курс BTC/USDT составляет 1 к 102 000, а наценка равна 2%, то итоговый курс для пользователя будет 1 к 104 040 в заявке на покупку.
{% endhint %}

**Указывайте только положительное значение в этом поле!**

{% hint style="warning" %}
<mark style="color:red;">**Важно!**</mark> Для компенсации указанной наценки добавьте коэффициент на то же значение, но в обратную сторону в разделе "**Парсеры 2.0**" ➔ "**Курсы**" для курса Quickex, который будет использоваться в направлении обмена с этим мерчантом.

Пример:\
Вы указали наценку в 2% в поле "**Наценка**". В курсе используйте формулу `[шорткод]*0.98` для стороны, противоположной 1.

![](<../../../.gitbook/assets/image (2285).png>)

Если курс обратный, то используйте скобки и деление единицы на шорткод:  `1/([шорткод]*0.98)`&#x20;

![](<../../../.gitbook/assets/image (2286).png>)

**Если в формуле не прописать коэффициент, то курс конечному пользователю будет выводится 1 = 1, и по факту пользователь получит обмен на 2% ниже заявленного, т.к. в поле "Наценка" прописано 2% — это приведет к негативу со стороны пользователей.**

На 2 скриншоте в инструкции (в настройке модуля мерчанта) установлена наценка 2%.

Базовый курс ETH/USDT равен 4 336.78 - за 1 ETH получаем 4 336.78 USDT. Но нам нужно уменьшить этот курс для конечного пользователя, т.к. установлена наценка в 2%. Прописываем в формуле коэффициент 0.98 для ETH/USDT. И получаем итоговый курс, который увидит пользователь - он получит 4250.05 USDT за 1 ETH

Для обратного курса нужно прописать формулу уже для курса отдаю и она будет иметь вид `1/([quickex_usdttrc20eth]*0.98)` — обратите внимание, что шорткоды различаются: `ethusdttrc20` и `usdttrc20eth`&#x20;

<mark style="color:red;">**Важно!**</mark>**&#x20;Не забывайте про скобки, иначе формула сработает неправильно.**
{% endhint %}

## Особые поля

<figure><img src="../../../.gitbook/assets/image (2195).png" alt="" width="374"><figcaption></figcaption></figure>

**Валюта "Отдаете/Получаете"** — выберите валюты, реквизиты для которой будут отображаться в заявке (валюта "**Отдаете**") и которая будет выплачиваться клиенту ("**Получаете**").

При выборе пункта "**Автоматически**" будет использовать xml-код валюты, указанный в её настройках.

{% hint style="warning" %}
Для корректной работы пары модулей приём-выплата для валюты "**Получаю**" из направления обмена, где используется Quickex, должно быть активно обязательное к заполнению поле "**На счет**", которое будет заполнять клиент в форме создания заявки.
{% endhint %}

## Учет комиссии сети вывода

В текущей интеграции Quickex и Premium Exchanger нет возможности автоматически учитывать комиссию сети вывода. Для того чтобы не было расхождения в курсе, нужно указать дополнительную комиссию в настройках для каждого направления обменов

\
В разделе "**Направления обменов**" — выбор нужного направления — вкладка "**Комиссии обменного пункта**" — "**Дополнительная комиссия получателя**" нужно прописать комиссию вывода для актива “**Получаете**”.

<figure><img src="../../../.gitbook/assets/image (2287).png" alt="" width="563"><figcaption></figcaption></figure>

После этого, в форме обмена на сайте в курсе "**Получаете**", добавится дополнительное поле "**С комиссией**", где курс будет отображаться корректно, учитывая комиссию сети.

\
Для удобства в настройке "**Направление обменов**" — "**Основные настройки**" можно добавить направление в группу направлений. Это упростит работу, если понадобится изменить комиссию сети в массовом редакторе.

<figure><img src="../../../.gitbook/assets/image (2290).png" alt="" width="563"><figcaption></figcaption></figure>

\
Массовый редактор находится в разделе "**Направление обменов**" — "**Массовый редактор информации для пользователей**". В "**Поле**" выберите “**Комиссии обменного пункта**”, а также выберите необходимую группу направлений. После этого будут отображаться все необходимые поля.

<figure><img src="../../../.gitbook/assets/image (2289).png" alt="" width="563"><figcaption></figcaption></figure>

Комиссии сети для активов Quickex можно увидеть в[ таблице](https://docs.google.com/spreadsheets/d/1MD3ULwbrcBlJOjM8RO7AZTwPk-Y0TPqGTPigJc_WyoY/edit?gid=0#gid=0).

## Продолжение настройки

Далее произведите настройку мерчанта следуя [общей инструкции по настройке](https://premium.gitbook.io/rukovodstvo-polzovatelya/osnovnye-nastroiki/merchanty-i-avtovyplaty/merchanty/obshie-nastroiki-merchantov).\
