# Модуль "Торговые действия"

Описание модуля и информация по его стоимости доступны по [ссылке](https://premiumexchanger.com/tradeapi/).

{% embed url="https://youtu.be/V9OtYr5m19U" %}

{% hint style="warning" %}
При совершении сделок на бирже может возникать погрешность, вызванная тем, что курс криптовалюты может меняться в процессе выполнения сделки. Чтобы избежать этой погрешности, необходимо для каждой криптовалюты иметь небольшой резерв, который будет использоваться для покрытия разницы между курсом на момент заявки и курсом на момент исполнения сделки.

Чтобы избежать погрешности при совершении сделок на бирже, необходимо выполнить следующие действия:

1. Для каждой криптовалюты, с которой вы совершаете сделки, установите небольшой резерв. Резерв может составлять, например, 0,003 BTC.
2. Регулярно контролируйте размер резерва и пополняйте его по мере необходимости.

**Пример:**

Предположим, вы хотите купить 1 BTC. На момент размещения заявки курс биткоина составляет 50 000 USD. Однако, к моменту исполнения сделки курс биткоина может измениться, например, до 50 009 USD. В этом случае погрешность составит 9 USD. Если у вас на балансе будет резерв в размере 0,003 BTC, то эта погрешность будет покрыта.

**Важно:**

Размер резерва, необходимый для покрытия погрешности, зависит от величины совершаемой сделки и от волатильности криптовалюты.
{% endhint %}

Задачей торгового модуля является полная автоматизация процесса выполнения заявок и регистрации текущих курсов, как в случае наличия различных криптовалют в портфеле, так и при отсутствии криптовалют в портфеле.

Существуют два основных типа торговых действий:

1. <mark style="color:red;">**Продажа**</mark> криптовалюты по заявке.
2. <mark style="color:green;">**Покупка**</mark> криптовалюты по заявке.

Каждое из этих действий может разделяться на два варианта:

1. <mark style="color:red;">**Продажа**</mark> криптовалюты по заявке при <mark style="color:green;">**наличии**</mark> её в портфеле.
2. <mark style="color:green;">**Покупка**</mark> криптовалюты по заявке при <mark style="color:green;">**наличии**</mark> валюты в портфеле, за которую она покупается.

и

1. <mark style="color:red;">**Продажа**</mark> криптовалюты по заявке при <mark style="color:red;">**отсутствии**</mark> её в портфеле.
2. <mark style="color:green;">**Покупка**</mark> криптовалюты по заявке при <mark style="color:red;">**отсутствии**</mark> валюты в портфеле, за которую она покупается.

Такое разделение позволяет более детально описать различные сценарии торговых операций.

## Продажа криптовалюты

В случае продажи и покупки криптовалюты по заявке, при <mark style="color:green;">наличии</mark> нужной валюты в портфеле, процесс более прост и эффективен. Автоматизированная система торговли в этом случае работает так:

1. Клиент создает заявку и получает адрес для оплаты от мерчанта.
2. Клиент оплачивает заявку (дополнительно можно настроить [пересчет по курсу](https://premium.gitbook.io/rukovodstvo-polzovatelya/osnovnye-nastroiki/valyuty-i-napravleniya/sozdanie-novogo-napravleniya-obmena#vkladka-pereschet-zayavok) на момент оплаты заявки клиентом, что имеет большое значение для фиксации курса и обеспечения стабильного процента прибыли по заявке) и система автоматически проводит продажу криптовалюты на бирже, которая есть в вашем портфеле.
3. После продажи криптовалюты клиент получает соответствующую сумму, и система фиксирует текущий курс на момент оплаты заявки клиентом.
4. После этого система переводит средства на биржу и продолжает процесс.

{% hint style="info" %}
На практике это выглядит следующим образом:

Допустим, у вас есть 1 BTC в портфеле на аккаунте биржи. Для приема криптовалюты вы используете, например, кошелек block.io (возможно использование любого мерчанта для приема криптовалют).

Клиент создает заявку на покупку криптовалюты на сумму 0.1 BTC и производит оплату. В момент оплаты, система моментально продает 0.1 BTC на бирже, например, за USDT.

В результате получается 0.1 BTC на вашем аккаунте в block.io, 0.9 BTC на аккаунте биржи и USDT, полученные от продажи 0.1 BTC.

Как только вся сумма BTC переводится на аккаунт block.io, вы можете одним переводом переместить все BTC на аккаунт биржи, что позволяет снизить комиссии за переводы.
{% endhint %}

Этот способ минимизирует риски и обеспечивает более стабильный процент прибыли по заявке, поскольку курс фиксируется в момент оплаты. Кроме того, оптимизация переводов средств между биржей и кошельками снижает комиссии и повышает эффективность торговли.

Но что делать, если у вас <mark style="color:red;">нет</mark> биткоинов в портфеле, и у вас, например, есть только USDT? В такой ситуации вам приходит на помощь биржевой маржинальный счет. Все описанные выше действия происходят аналогичным образом. Однако поскольку у вас нет BTC в портфеле, система займет необходимую сумму BTC на бирже и продаст ее, используя ваш счет USDT в качестве залога для займа (примечание: в качестве залога может выступать любая валюта).

Для тех, кто торгует или инвестирует на фондовых, товарных или валютных биржах, такая продажа называется "шорт-сделкой" или "продажей в короткую". Это означает продажу актива, которого у вас нет.

Давайте разберемся по шагам, используя описанный пример:

1. Клиент создает заявку и получает адрес для оплаты от мерчанта.
2. Клиент оплачивает 0.1 BTC (дополнительно можно настроить [пересчет по курсу](https://premium.gitbook.io/rukovodstvo-polzovatelya/osnovnye-nastroiki/valyuty-i-napravleniya/sozdanie-novogo-napravleniya-obmena#vkladka-pereschet-zayavok) на момент оплаты заявки клиентом, что имеет большое значение для фиксации курса и обеспечения стабильного процента прибыли по заявке).
3. Как только клиент оплачивает заявку, система автоматически занимает и продает 0.1 BTC на бирже, используя ваш счет USDT в качестве залога для займа.
4. Прием криптовалюты, например, происходит на кошелек block.io (прием криптовалюты можно организовать через любой мерчант).
5. В результате операции, у вас появляется 0.1 BTC на аккаунте block.io, 0.1 BTC — <mark style="color:red;">долг</mark> перед биржей и USDT, полученные от продажи 0.1 BTC.

{% hint style="info" %}
Если у вас есть несколько заявок, и ваш <mark style="color:red;">долг</mark> перед биржей составляет 1 BTC, а на аккаунте block.io у вас есть 1 BTC, вы можете перевести 1 BTC с block.io на аккаунт биржи и погасить долг. Таким образом, вы фиксируете курс без риска его изменения, даже если у вас нет криптовалют в портфеле.
{% endhint %}

## Покупка криптовалюты

Что касается процесса покупки криптовалюты при <mark style="color:green;">наличии</mark> ее в портфеле, он выглядит следующим образом. Предположим, у нас есть обмен рублей со Сбера на 0.1 BTC:

1. Клиент создает заявку, и вы предоставляете ему карту для оплаты.
2. Клиент оплачивает необходимую сумму.
3. Вы вручную устанавливаете статус заявки "Оплаченная" (дополнительно можно настроить [пересчет по курсу](https://premium.gitbook.io/rukovodstvo-polzovatelya/osnovnye-nastroiki/valyuty-i-napravleniya/sozdanie-novogo-napravleniya-obmena#vkladka-pereschet-zayavok) на момент оплаты заявки клиентом, что имеет большое значение для фиксации курса и обеспечения стабильного процента прибыли по заявке).

{% hint style="info" %}
Допустим, у вас есть 1 BTC на кошельке block.io. Когда вы устанавливаете статус заявки "Оплаченная" на бирже, мгновенно покупается сумма 0.1 BTC. Затем, вы нажимаете кнопку "Перевести," и с кошелька block.io переводится сумма 0.1 BTC. В результате, у вас появляется 0.9 BTC на кошельке block.io и 0.1 BTC на аккаунте биржи.

Когда у вас накапливается множество заявок, и вся сумма биткоинов с кошелька block.io переходит на аккаунт биржи, вы можете снова перевести всю сумму биткоинов с биржи на кошелек block.io.
{% endhint %}

Если у вас <mark style="color:red;">нет</mark> биткоинов в портфеле, а есть только USDT, и вы хотите автоматически выплачивать их по заявкам, вам снова приходит на помощь маржинальный счет. Для этого вам необходимо предварительно подготовиться:

1. Перевести на аккаунт биржи необходимую сумму USDT, например, чтобы хватило на покупку 1 BTC.
2. Произвести на аккаунте биржи займ в размере 1 BTC.
3. Отправить с биржи 1 BTC на кошелек block.io. В результате у вас появится 1 BTC на балансе кошелька block.io и <mark style="color:red;">долг</mark> в размере 1 BTC на аккаунте биржи.

Затем, клиенты могут создавать заявки на обмен, и вы выплачиваете биткоины с кошелька block.io. Например, предположим, у вас есть обмен рублей со Сбера на 0.1 BTC:

1. Клиент создает заявку, и вы предоставляете ему карту для оплаты.
2. Клиент оплачивает необходимую сумму.
3. Вы вручную устанавливаете статус заявки "Оплаченная" (дополнительно можно настроить [пересчет по курсу](https://premium.gitbook.io/rukovodstvo-polzovatelya/osnovnye-nastroiki/valyuty-i-napravleniya/sozdanie-novogo-napravleniya-obmena#vkladka-pereschet-zayavok) на момент оплаты заявки клиентом, что имеет большое значение для фиксации курса и обеспечения стабильного процента прибыли по заявке).

{% hint style="info" %}
Когда вы устанавливаете статус заявки "Оплаченная," на бирже мгновенно покупается сумма 0.1 BTC, и <mark style="color:red;">долг</mark> в размере 0.1 BTC погашается. Затем, вы нажимаете кнопку "Перевести," и с кошелька block.io выплачивается сумма 0.1 BTC. В результате, у вас остается 0.9 BTC на кошельке block.io, и <mark style="color:red;">долг</mark> перед биржей составляет 0.9 BTC.

Когда у вас накапливается множество заявок, и весь долг перед биржей погашен, вы получаете проданные USDT за рубли Сбера и нулевой долг перед биржей. Продажа осуществляется по установленному вами курсу, независимо от изменений цены биткоина на бирже.
{% endhint %}

Также следует учитывать, что все описанные выше действия по покупке и продаже можно комбинировать в зависимости от ваших потребностей. Вы можете осуществлять обмены криптовалюты на криптовалюту, даже если у вас их фактически нет в наличии. Например, обмен XMR на BTC.

Также возможно создавать более сложные торговые операции с направлениями обмена криптовалюты на криптовалюту, включая торговые пары, которых нет на бирже, например XMR на XRP и наоборот.

В примерах использовался мерчант и автовыплата через кошелек block.io. Важно отметить, что вы можете использовать любой мерчант и/или настраивать автоматические выплаты по вашему усмотрению. Торговые действия привязаны исключительно к статусам заявок, и не имеет значения, какой мерчант или систему автовыплаты вы выберете.
