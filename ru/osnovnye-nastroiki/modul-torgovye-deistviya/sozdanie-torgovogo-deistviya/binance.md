# Binance

## Авторизация в модуле

<figure><img src="../../../.gitbook/assets/image (692).png" alt="" width="453"><figcaption></figcaption></figure>

**Ключ API** — ключ, сгенерированный в ЛК Binance

**Секретный ключ** — секретный ключ, сгенерированный в ЛК Binance

Для торговых действий желательно выпустить отдельный ключ с необходимыми правами, если вы уже используете Binance как мерчанта и/или автовыплату.

Права, необходимые для работы со всеми функциями модуля, выделены ниже.

<figure><img src="../../../.gitbook/assets/image (693).png" alt=""><figcaption></figcaption></figure>

## Общие параметры:

<figure><img src="../../../.gitbook/assets/image (700).png" alt="" width="563"><figcaption></figcaption></figure>

**Порядок выполнения** — выполнение действий в указанном порядке (если задействовано несколько торговых действий для одних и тех же направлений обмена). Укажите значения от [1 до 10](#user-content-fn-1)[^1] в каждом задействованном торговом действии. Оставьте поле пустым, если вы используете только одно действие.

<figure><img src="../../../.gitbook/assets/image (614).png" alt="" width="563"><figcaption></figcaption></figure>

<figure><img src="../../../.gitbook/assets/image (615).png" alt="" width="563"><figcaption></figcaption></figure>

**Назначать действия** — выбор статуса заявки при достижении которого будет выполняться действие. Необходимо выбрать только один пункт.

{% hint style="info" %}
Рекомендуем использовать пункт "После статуса "**Оплаченная заявка**" для действий "**Купить**" и "**Продать**".
{% endhint %}

**Направления обменов** — выбор направлений обмена, при работе с заявками в которых будут выполняться торговые действия. Можно выбрать несколько направлений с одной валютой в "**Отдаю**" или "**Получаю**" одновременно.

**Процент погрешности (%)** — укажите процент погрешности (только число) для суммы из заявки, с которой будет проводиться действие. Обычно указывается значение от 0.1 до 0.5 (оптимальное значение — 0.15).

<figure><img src="../../../.gitbook/assets/image (616).png" alt="" width="307"><figcaption></figcaption></figure>

## Шаг "Взять в долг"

<figure><img src="../../../.gitbook/assets/image (696).png" alt="" width="515"><figcaption></figcaption></figure>

**Включен:**\
• **Да** \
• **Нет**

**Код валюты** — укажите код валюты, которую необходимо <mark style="color:yellow;">**взять в долг**</mark> в рамках данного шага

**Сеть** — укажите сеть для валюты из пункта "**Код валюты"** (необязательно, указывается при наличии сети у валюты)

**Код торговой валюты** — укажите код валюты, которую вам необходимо одолжить бирже как депозит для выдачи биржей в долг выбранной валюты (поле "**Код валюты**")

**Сумма** — выбор типа суммы из заявки, который будет передаваться в указанный шаг\
![](<../../../.gitbook/assets/image (702).png>)

{% hint style="warning" %}
Выберите сумму из стороны "**Отдаю**" или "**Получаю**" в зависимости от того, с какой валютой планируются действия (сторона валютной пары должна совпадать с валютой, которую, вы укажете в поле "**Код валюты**")

\
Пункты "**Сумма платежа**" и "**Сумма выплаты**" записываются модулем мерчантом на прием/автовыплату и, соответственно, работает только если эти значения не пустые (т.е. был произведен платеж/выплата через подключенного в напарвлении мерчанта).

Если в направлении обмена не подключены мерчанты на прием/автовыплату, значение платежа/выплаты будут равны 0 (если при этом сумма для торгового действия была выбрана как "**Сумма платежа**" или "**Сумма выплаты**", то при срабатывании торгового действия вы получите ошибку, т.к. будет попытка совершения торгового действия с суммой 0).\
\
Если вы уже получили ошибку торгового действия, связанного с этим нюансом, отредактируйте нужную сумму в заявке (раздел "**Заявки**", кнопка "**Редактировать**",\
![](<../../../.gitbook/assets/image (376).png>)&#x20;

укажите корректную сумму для нужного поля, сохраните изменения в заявке и запустите вручную торговое действие кликом по ссылке "**Ссылка на действие**" в разделе "**Торговые действия**" -> "**Заявки**") — торговое действие будет выполнено
{% endhint %}

**Если не подходит сумма:**\
• **Ошибка** — шаг не будет выполнен (рекомендуется)\
• **Продолжаем** — шаг будет выполнен, несмотря на несовпадение суммы

**Мин. сумма** — минимальная сумма для данного торгового шага (указывается в валюте, с которой проводятся операции)

**Макс. сумма** — максимальная сумма для данного торгового шага (указывается в валюте, с которой проводятся операции)

**Добавить комиссию за вывод средств** — выберите "**Нет**"\
• **Да**\
• **Нет**

**Добавить торговую комиссию** — выберите "**Нет**"\
• **Да**\
• **Нет**

**Перевод на Spot счет** — перевод на спотовый счет взятой в долг суммы\
• **Да**\
• **Нет**

## Шаг "Погасить задолженность"

<figure><img src="../../../.gitbook/assets/image (697).png" alt="" width="506"><figcaption></figcaption></figure>

**Включен:**\
• **Да**\
• **Нет**

**Если не подходит сумма:**\
• **Ошибка** — шаг не будет выполнен (рекомендуется)\
• **Продолжаем** — шаг будет выполнен, несмотря на несовпадение суммы

**Перевод на Margin счет** — перевод в маржинальный счет в качестве погашения долга\
• **Да**\
• **Нет**

**Код валюты** — укажите код валюты, по которой необходимо <mark style="color:orange;">**погасить долг**</mark> в рамках данного шага

{% hint style="warning" %}
Код валюты должен совпадать:

* с кодом валюты платежа от клиента из заявки, если в поле "**Сумма**" выбрана "**Сумма платежа**" или любой из пунктов "**Отдаю/Отдаете**"
* с кодом валюты выплаты из заявки, если в поле "**Сумма**" выбрана "**Сумма выплаты**" или любой из пунктов "**Получаю/Получаете**"
{% endhint %}

**Сумма** — выбор типа суммы из заявки, который будет передаваться в указанный шаг\
![](<../../../.gitbook/assets/image (702).png>)

{% hint style="warning" %}
Выберите сумму из стороны "**Отдаю**" или "**Получаю**" в зависимости от того, с какой валютой планируются действия (сторона валютной пары должна совпадать с валютой, которую, вы укажете в поле "**Код валюты**"
{% endhint %}

**Мин. сумма** — минимальная сумма для данного торгового шага (указывается в валюте, с которой проводятся операции)

**Макс. сумма** — максимальная сумма для данного торгового шага (указывается в валюте, с которой проводятся операции)

## Шаг "Продать"

<figure><img src="../../../.gitbook/assets/image (695).png" alt="" width="518"><figcaption></figcaption></figure>

**Включен:**\
• **Да**\
• **Нет**

**Если не подходит сумма:**\
• **Ошибка** — шаг не будет выполнен (рекомендуется)\
• **Продолжаем** — шаг будет выполнен, несмотря на несовпадение суммы

**Торговый счет** — счет, с которого будет продана валюта\
• **Spot** — спотовый счет\
• **Margin** — маржинальный счет

**Взять в долг** — при недостатке или отсутствии средств на вашем счету вы можете взять в долг у биржи (только если выбран маржинальный счет в предыдущем параметре), а затем погасить долг вручную или с помощью шага "**Погасить задолженность**"\
• **Нет** — сумма не будет браться в долг\
• **Вся сумма** — покупка полной суммы из заявки\
• **Необходимая сумма** — покупка только недостающей суммы

**Перевод на счет** — перевод средств на выбранный счет\
• **Spot** — спотовый счет\
• **Margin** — маржинальный счет

**Код валюты** — укажите код валюты, которую необходимо <mark style="color:red;">**продать**</mark> в рамках данного шага для покупки валюты из пункта "**Код торговой валюты**"

{% hint style="warning" %}
Код валюты должен совпадать:

* с кодом валюты платежа от клиента из заявки, если в поле "**Сумма**" выбрана "**Сумма платежа**" или любой из пунктов "**Отдаю/Отдаете**"
* с кодом валюты выплаты из заявки, если в поле "**Сумма**" выбрана "**Сумма выплаты**" или любой из пунктов "**Получаю/Получаете**"
{% endhint %}

**Сеть** — укажите сеть для валюты из пункта "**Код валюты"** (необязательно, указывается только при наличии сети у валюты). Если у валюты нет сети — оставьте поле пустым.

**Код торговой валюты** — укажите код валюты, которую необходимо <mark style="color:green;">**купить**</mark> в рамках данного шага (обычно выбирается USDT)

**Сумма** — выбор типа суммы из заявки, который будет передаваться в выбранное действие (при продаже приходящей от клиента валюты, выберите один из пунктов "**Сумма Отдаю/Отдаете ...**" или пункт "**Сумма платежа**")\
![](<../../../.gitbook/assets/image (702).png>)

{% hint style="warning" %}
Выберите сумму из стороны "**Отдаю**" или "**Получаю**" в зависимости от того, с какой валютой планируются действия (сторона валютной пары должна совпадать с валютой, которую, вы укажете в поле "**Код валюты**"
{% endhint %}

**Мин. сумма** — минимальная сумма для данного торгового шага (указывается в валюте, с которой проводятся операции). Если сумма из заявки будет ниже указанной минимальной суммы — шаг не будет выполнен.

**Макс. сумма** — максимальная сумма для данного торгового шага (указывается в валюте, с которой проводятся операции). Если сумма из заявки будет выше указанной максимальной суммы — шаг не будет выполнен.

**Добавить комиссию за вывод средств** — для действия "**Продать**" выберите "**Нет**"\
• **Да**\
• **Нет**

**Добавить торговую комиссию** — для действия "**Продать**" выберите "**Нет**"\
• **Да**\
• **Нет**

## Шаг "Купить"

<figure><img src="../../../.gitbook/assets/image (698).png" alt="" width="504"><figcaption></figcaption></figure>

**Включен:**\
• **Нет** — шаг не используется\
• **Вся сумма** — покупка полной суммы из заявки\
• **Необходимая сумма** — покупка только недостающей суммы (будет учитываться баланс выбранной валюты на вашем счете у мерчанта)

**Если не подходит сумма:**\
• **Ошибка** — шаг не будет выполнен (рекомендуется)\
• **Продолжаем** — шаг будет выполнен, несмотря на несовпадение суммы

**Торговый счет** — счет, на который будет куплена валюта\
• **Spot** — спотовый счет\
• **Margin** — маржинальный счет

**Взять в долг** — при недостатке или отсутствии средств на вашем счету вы можете взять в долг у биржи (только если выбран маржинальный счет (Margin) в предыдущем параметре), а затем погасить долг вручную или с помощью шага "**Погасить задолженность**"\
• **Нет** — сумма не будет браться в долг\
• **Вся сумма** — взятие в долг полной суммы из заявки\
• **Необходимая сумма** — взятие в долг только недостающей суммы

**Валюта заимствования** — выбор валюты для взятия в долг\
• **Код валюты** — валюта из поля "**Код валюты**" в этом шаге\
• **Код торговой валюты** — валюта из поля "**Код торговой валюты**" в этом шаге

**Перевод на счет** — перевод средств на выбранный счет\
• **Нет** — перевод не используется\
• **Spot** — спотовый счет\
• **Margin** — маржинальный счет

**Код валюты** — укажите код валюты, которую необходимо <mark style="color:green;">**купить**</mark> в рамках данного шага

{% hint style="warning" %}
Код валюты должен совпадать:

* с кодом валюты платежа от клиента из заявки, если в поле "**Сумма**" выбрана "**Сумма платежа**" или любой из пунктов "**Отдаю/Отдаете**"
* с кодом валюты выплаты из заявки, если в поле "**Сумма**" выбрана "**Сумма выплаты**" или любой из пунктов "**Получаю/Получаете**"
{% endhint %}

**Сеть** — укажите сеть для валюты из пункта "**Код валюты"** (необязательно, указывается только при наличии сети у валюты)

**Код торговой валюты** — укажите код валюты, которую необходимо <mark style="color:red;">**продать**</mark> в рамках данного шага для покупки валюты из пункта "**Код валюты**"

**Сумма** — выбор типа суммы из заявки, который будет передаваться в указанный шаг\
![](<../../../.gitbook/assets/image (702).png>)

{% hint style="warning" %}
Выберите сумму из стороны "**Отдаю**" или "**Получаю**" в зависимости от того, с какой валютой планируются действия (сторона валюты из пары должна совпадать с валютой, которую, вы укажете в поле "**Код валюты**"
{% endhint %}

**Мин. сумма** — минимальная сумма для данного торгового шага (указывается в валюте, которая закупается через это торговое действие (пункт "**Код валюты"**)). Если сумма из заявки будет ниже указанной минимальной суммы — шаг не будет выполнен.

**Макс. сумма** — максимальная сумма для данного торгового шага (указывается в валюте, которая закупается через это торговое действие (пункт "**Код валюты"**)). Если сумма из заявки будет выше указанной максимальной суммы — шаг не будет выполнен.

**Добавить комиссию за вывод средств:**\
• **Да** — выберите "**Да**", если предполагается выплата свежекупленной валюты по заявке через [модуль автовыплаты Binance](https://premium.gitbook.io/main/osnovnye-nastroiki/merchanty-i-avtovyplaty/avtovyplaty/binance)\
• **Нет**

**Добавить торговую комиссию** — выберите "**Да**"\
• **Да**\
• **Нет**

## **Шаг "Перевод на счет"**

<figure><img src="../../../.gitbook/assets/image (699).png" alt="" width="509"><figcaption></figcaption></figure>

**Включен:**\
• **Да**\
• **Нет**

**Перевод на счет:**\
• **Spot -> Margin** — перевод со спотового счета на маржинальный\
• **Margin -> Spot** — перевод с маржинального счета на спотовый

**Код валюты** — укажите код валюты, которую необходимо <mark style="color:blue;">**перевести**</mark> в рамках данного шага между счетами

**Сеть** — укажите сеть для валюты из пункта "**Код валюты"** (необязательно, указывается только при наличии сети у валюты)

**Код торговой валюты** — укажите код валюты, которая будет переведена в обратном направлении

**Сумма** — выбор типа суммы из заявки, который будет передаваться в указанный шаг\
![](<../../../.gitbook/assets/image (702).png>)

**Добавить комиссию за вывод средств** — выберите "**Нет**"\
• **Да**\
• **Нет**

**Добавить торговую комиссию** — выберите "**Нет**"\
• **Да**\
• **Нет**

## **Настройки прокси**

Если с IP-адреса вашего сервера нет доступа к бирже, с которой вы планируете работать, купите прокси и укажите данные от него в указанном блоке.

<figure><img src="../../../.gitbook/assets/image (1411).png" alt="" width="446"><figcaption></figcaption></figure>

* **IP адрес** — адрес прокси-сервера
* **Порт** — порт прокси-сервера
* **Логин** — ваш логин для доступа к прокси-серверу
* **Пароль** — ваш пароль для доступа к прокси-серверу
* **Отключить прокси туннель** — отключение опции при заполненных выше полях\
  • **Нет**\
  • **Да**

[^1]: 1 - высший приоритет

    2 - второе действие по приоритету и так далее
