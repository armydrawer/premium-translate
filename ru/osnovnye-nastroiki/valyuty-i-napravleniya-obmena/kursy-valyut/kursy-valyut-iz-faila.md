# Курсы валют из файла

В скрипте предусмотрена возможность получать значение курса обмена из текстового файла. Вы можете создать файл, в который будет выгружаться  значение курса обмена, и который будет выводиться на сайте в качестве курса обмена для направления. Необходимо выполнить следующие действия:

1\. В панели управления сайтом в разделе "**Модули" → "Модули"** → активировать модуль "**Парсер курса обмена из файла**".

2\. Создать TXT-файл и задать в нем курсы обмена. Указать каждое значение курса с новой строки. Загрузить TXT-файл на сервер. Пример файла с курсами:

| <p><code>USDRUB : 1 = 55.7</code></p><p><code>RUBUSD : 57.5 = 1</code></p><p><code>BTCUSD : 1 = 15777</code></p> |
| ---------------------------------------------------------------------------------------------------------------- |

3\. В панели управления сайтом в разделе "**Модули"** → **"Курс обмена из файла**" → указать URL загруженного TXT-файла.

<figure><img src="../../../.gitbook/assets/image (1168).png" alt="" width="563"><figcaption></figcaption></figure>

4\. В панели управления сайтом в разделе "**Направления обменов**" в настройках направления обмена на вкладке "**Курс**" для параметра "**Обменный курс из файла**" выбрать соответствующий номер строки из файла и сохранить изменения.

<figure><img src="../../../.gitbook/assets/image (1064).png" alt="" width="563"><figcaption></figcaption></figure>

5\. Настроить [планировщик задач (cron)](https://premium.gitbook.io/main/osnovnye-nastroiki/faq/kak-sozdat-zadanie-cron-na-servere), который будет получать значение курса обмена из файла и обновлять его на сайте. Скрипт можно запускать каждую минуту. Пример команды для планировщика задач в Unix-формате для панели управления ISP Manager:

<figure><img src="../../../.gitbook/assets/image (3) (1).png" alt="" width="563"><figcaption></figcaption></figure>

`/usr/bin/wget -t 1 -O - --no-check-certificate "https://premiumexchanger.com/cron-fcourse_request_cron.html"`

<figure><img src="../../../.gitbook/assets/image (1052).png" alt="" width="563"><figcaption></figcaption></figure>

{% hint style="info" %}
Для каждого сервера команда из примера может иметь другой вид. Изменения касаются данной части команды **`/usr/bin/wget -t 1 -O - --no-check-certificate "ваш_URL"`**. Правильную команду вы можете уточнить у технической поддержки своего хостинга.
{% endhint %}

Теперь значение курса для направления обмена на сайте постоянно будет браться из TXT-файла.
